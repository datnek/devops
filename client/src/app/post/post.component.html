<div class="container mt-5">
  <div class="row d-flex align-items-center">
    <div class="col-md-7 mrgnbtm">
      <h2>Enregistrement d'un post</h2>
      <form (ngSubmit)="addPost($event)" *ngIf="post">
        <input type="hidden" class="form-control" [(ngModel)]="post._id"
               id="_id"
               name="_id"
               aria-describedby="_idHelp">
        <div class="row">
          <div class="form-group col-12">
            <label for="name">Titre</label>
            <input type="text" class="form-control" [(ngModel)]="post.title"
                   id="name"
                   name="name"
                   aria-describedby="emailHelp" placeholder="titre du post">
          </div>
          <div class="form-group col-12">
            <label for="description">Description</label>
            <textarea  class="form-control"
                      [(ngModel)]="post.description"
                      id="description"
                      name="description"
                      placeholder="Description du post"></textarea>
          </div>
        </div>
        <button type="submit" id="btnSave" [disabled]="!(this.post.title && this.post.description)"
                class="btn btn-primary">Enregistrer</button>
      </form>
    </div>
    <div class="col-md-4">
     <div class="card bg-primary text-white">
       <div class="card-body p-5 d-flex-align-items-center h4 justify-content-center text-center">
         <strong>Nombre de post</strong> <br>
         <span>{{posts.length}}</span>
       </div>
     </div>
    </div>
  </div>
  <hr>
 <div class="mt-2" *ngIf="posts && posts.length>0">
   <h2>Liste des postes</h2>
   <table class="table table-bordered table-condenced table-stripper">
     <thead>
     <tr>
       <th>Name</th>
       <th>Description</th>
       <th></th>
     </tr>
     </thead>
     <tbody>
     <tr *ngFor="let p of posts">
       <td>{{p.title}}</td>
       <td>{{p.description}}</td>
       <td class="text-center">
         <a (click)="setPost($event, p)" href="" class="btn btn-sm btn-success mr-2">modifier</a>
         <a (click)="deletePost($event, p)" href="" class="btn btn-sm btn-danger mr-2">supprimer</a>
       </td>
     </tr>
     </tbody>
   </table>
 </div>
</div>
